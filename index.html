<html>
  <head>
  <script src="three.min.js"></script>
  </head>
  <body id="body">

  Change the cube texture:
  <input class="file-picker" type="file" id="imageupload" onchange="uploadImage(this)" name="bok" accept="image/*">

<script>

  function uploadImage( e ) {
    if (imageupload.files && imageupload.files[0]) {
      let reader = new FileReader();
      reader.onload = function (e) {
        //image.src = e.target.result;// preview image, needs <img id="image">
        material.forEach( r => { r.map = THREE.ImageUtils.loadTexture( e.target.result ); r.needsUpdate = true; } );
      };
      reader.readAsDataURL(imageupload.files[0]);
    }
  }

let  scene;
let  camera;
let  renderer;
let  geometry;
let  material;
let  mesh;
let  running = false;
let  texloader = new THREE.TextureLoader();

  function init() {
    let materials = [
      new THREE.MeshLambertMaterial({ color: 0xffffff, map: texloader.load( 'mantis.png' ) }),
      new THREE.MeshLambertMaterial({ color: 0xffffff, map: texloader.load( 'bobross.png' ) }),
      new THREE.MeshLambertMaterial({ color: 0xffffff, map: texloader.load( 'darthavatar.png' ) }),
      new THREE.MeshLambertMaterial({ color: 0xffffff, map: texloader.load( 'feedback.png' ) }),
      new THREE.MeshLambertMaterial({ color: 0xffffff, map: texloader.load( 'alert.png' ) }),
      new THREE.MeshLambertMaterial({ color: 0xffffff, map: texloader.load( 'mantis.png' ) }),
    ];

    scene = new THREE.Scene();
    //scene.background = new THREE.Color( 0xaaaaaa );

    camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 10000);
    camera.position.z = 1000;

    geometry = new THREE.BoxGeometry(200, 200, 200);
    //material = new THREE.MeshBasicMaterial({ color: 0xff0000, wireframe: true });
    material = materials;

    mesh = new THREE.Mesh(geometry, material);
    scene.add(mesh);

    //var pointLight = new THREE.PointLight( 0xffffff, 1, 0, 2 );
    //pointLight.position.set( 2, 2, 450 );
    //this.scene.add( pointLight );
    scene.add(new THREE.AmbientLight(0xffffff));

    renderer = new THREE.WebGLRenderer({ alpha: true }); // alpha transparency...
    renderer.setClearColor( 0xffffff, 0 ); // second param is opacity, 0 => transparent
    renderer.setSize(window.innerWidth, window.innerHeight);

    console.log( document.body );
    body.appendChild(renderer.domElement);
  }

  function go() {
    running = true;
    animate();
  }

  function destroy() {
    running = false;
    body.removeChild(renderer.domElement);
  }

  function animate() {
    if (!running)
      return;

    requestAnimationFrame( () => animate() );
    mesh.rotation.x += 0.01;
    mesh.rotation.y += 0.02;
    renderer.render(scene, camera);
  }

// start the sim
init();
go();
</script>

  </body>
</html>
